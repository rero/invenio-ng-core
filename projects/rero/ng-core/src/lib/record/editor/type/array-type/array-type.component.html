<!--
 RERO angular core
 Copyright (C) 2020 RERO

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as published by
 the Free Software Foundation, version 3 of the License.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU Affero General Public License for more details.

 You should have received a copy of the GNU Affero General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<!-- array title only if the array is empty -->

<ng-core-label-editor *ngIf="to.label && field.templateOptions.hideLabel !== true" [field]="field">
</ng-core-label-editor>

<div class="array-item" [ngClass]="{'ml-3': field.templateOptions.hideLabel !== true}">
  <!--  validation error message -->
  <div class="alert alert-danger" role="alert" *ngIf="showError && formControl.errors">
    <formly-validation-message [field]="field"></formly-validation-message>
  </div>

  <!-- for each item -->
  <div class="{{ to.containerCssClass }} ">
  <ng-container *ngFor="let f of field.fieldGroup">
    <div class="{{ f.templateOptions.itemCssClass }} mb-1" *ngIf="!f.hide" [id]="'field-' + f.id">
      <div class="border-left pl-1">
      <formly-field [field]="f"></formly-field>
    </div>
    </div>
  </ng-container>
  </div>
</div>
